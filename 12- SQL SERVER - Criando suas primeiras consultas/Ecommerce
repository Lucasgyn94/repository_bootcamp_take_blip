DROP TABLE IF EXISTS TESTE CASCADE;

CREATE TABLE TESTE
(
	DESCRICAO VARCHAR(50),
	COMPLEMENTO CHAR(10)
);

DROP TABLE IF EXISTS PRODUTOS CASCADE;

CREATE TABLE PRODUTOS
(
	CODIGO INT,
	NOME VARCHAR(100),
	DESCRICAO VARCHAR(200),
	PRECO FLOAT
);

INSERT INTO PRODUTOS (CODIGO, NOME, DESCRICAO, PRECO) VALUES (1, 'CANETA', 'CANETA AZUL', 1.50);
INSERT INTO PRODUTOS (CODIGO, NOME, DESCRICAO, PRECO) VALUES (2, 'CADERNO', 'CADERNO 10 MATÉRIAS', 20.00);

DROP TABLE IF EXISTS CLIENTES CASCADE;

CREATE TABLE CLIENTES
(
	CODIGO INT NOT NULL,
	NOME VARCHAR (200) NOT NULL,
	TIPO_PESSOA CHAR(1) NOT NULL
);

INSERT INTO CLIENTES (CODIGO, NOME, TIPO_PESSOA) VALUES (1, 'LUCAS', 'F');
INSERT INTO CLIENTES (CODIGO, NOME, TIPO_PESSOA) VALUES (2, 'HIGOR', 'J');
INSERT INTO CLIENTES (CODIGO, NOME, TIPO_PESSOA) VALUES (3, 'JOANA', 'J');

ALTER TABLE CLIENTES ADD CONSTRAINT CLI_PK PRIMARY KEY (CODIGO);

DROP TABLE IF EXISTS PEDIDO CASCADE;

CREATE TABLE PEDIDO
(
	CODIGO INT NOT NULL,
	DATA_SOLICITACAO TIMESTAMP NOT NULL,
	FLAG_PAGO boolean NOT NULL,
	TOTAL_PEDIDO FLOAT NOT NULL,
	CODIGO_CLIENTE INT NOT NULL
);

INSERT INTO PEDIDO (CODIGO, DATA_SOLICITACAO, FLAG_PAGO, TOTAL_PEDIDO, CODIGO_CLIENTE) VALUES (1, CURRENT_TIMESTAMP, false, 3, 7);

/*
CURRENT_TIMESTAMP = COMANDO QUE SETA DATA E HORA NO POSTGRES
*/
/** 
Pedido item vai armazenar cada um dos produtos e suas respectivas quantidades
Um pedido pode ter vários itens
*/
DROP TABLE IF EXISTS PEDIDOITEM CASCADE;

CREATE TABLE PEDIDOITEM
(
	CODIGO_PEDIDO INT NOT NULL,
	CODIGO_PRODUTO INT NOT NULL,	
	PRECO FLOAT NOT NULL,
	QUANTIDADE INT NOT NULL
);

INSERT INTO PEDIDOITEM (CODIGO_PEDIDO, CODIGO_PRODUTO, PRECO, QUANTIDADE) VALUES (1, 1, 1.50, 4);

DROP TABLE IF EXISTS STATUS_PEDIDO_ITEM CASCADE;

CREATE TABLE STATUS_PEDIDO_ITEM
(
	DESCRICAO VARCHAR (200)
)


/*
UPDATE CLIENTES
SET CODIGO = 10,
	NOME = 'LUCAS FERREIRA DA SILVA'
WHERE TIPO_PESSOA = 'F'
Nesse trecho e feita a atualização de codigo e nome para os clientes tipo_pessoa = fisica
*/
/*
SELECT * 
FROM CLIENTES
WHERE TIPO_PESSOA = 'F'; 		WHERE = ONDE
Esse comando filtra todos os clientes onde o tipo pessoa = 'F' fisica.
*/

/*SELECT * FROM CLIENTES*/

/*
SELECT TESTE.* FROM TESTE;
INSERT INTO TESTE (DESCRICAO, COMPLEMENTO) VALUES ('A', 'A')
*/

/*
tipos de dados sql
int
bigint
varchar
char
*/